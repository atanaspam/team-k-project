{% extends "base.html" %}

{% block sidebarNav %}
{% include "sidebarNav/manager.html" %}
{% endblock %}
<!--!!!!!      ---------------- -TODO- ------------------     !!!!! -->
<!--                            ATANAS                              -->
<!-- 	                                                            -->
<!-- 	      ALLIGN THE PLACES LEFT ATTRIBUTE PROPERLY	 	    	-->
<!-- 																-->
<!-- FINISH THE MEMBERS TO PAY TABLE, ADD A PRINTER FRIENDLY BUTTON -->
<!-- 	                                                            -->
<!--!!!!!      ---------------- -TODO- ------------------      !!!!!-->

{% block mainArea %}

<h2>Welcome, {{user.first_name}}</h2>

<!-- bookings pending confirmation -->
<div class="panel panel-default">
	
	<div class="panel-heading">
		<h3 class="panel-title">Bookings Pending Confirmation</h3>
	</div>
	
	<div class="panel-body">

		<!-- add body here -->
		<div class="list-group">     
			{% if sessions %}
			    {% for session in sessions %}
			        {% if users %}
			            {% for user in users %}
							<!-- list item -->
			                <a href="#" class="list-group-item clearfix">
				                <span class="glyphicon glyphicon-file"></span>
				                	{{session.begintime|date:"d M y"}} - {{session.begintime|time:"H i"}} , {{user.firstname}} {{user.lastname}} Places Left: {{session.capacity}}
				                <span class="pull-right">
					                <button class="btn btn-xs btn-warning">
					                	<span class="glyphicon glyphicon-time"></span>
					                </button>
					                <button class="btn btn-xs btn-info">
					                	<span class="glyphicon glyphicon-info-sign"></span>
					                </button>
					                <button class="btn btn-xs btn-success approveButton" id ="approve" data-catid="{{session.sessionid}}" user="{{user.uid}}">
					                	<span class="glyphicon glyphicon-ok"></span>
					                </button>
				                </span>
			                </a> <!-- end of list group item -->
			            {% endfor %}
			        {% endif %}
			    {% endfor %}
			{% else %}
			    <strong>There unconfirmed bookings.</strong>
			{% endif %}
		</div> <!-- end of list group-->
	</div><!--panel bookings pending confirmation-->
</div>

<!-- bookings pending confirmation -->
<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Memebers Due To Pay</h3>
    </div>
    
	<div class="panel-body">
		<div id="printPayments">
			<table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
	        <div>
	            <thead>
	                <tr>
	                    <th>Name</th>
	                    <th>Amount</th>
	                    <th>Next Arrival Day</th>
	                </tr>
	            </thead>
	        </div>
 
	        {% if pendingusers %}
	                {% for pendinguser in pendingusers %}
	                    {% if pendingpayments %}
	                        {% for pendingpayment in pendingpayments %}
	                            <tbody>
	                            <tr class="studentLabel">   
	                                <td>{{pendinguser.firstname}} {{pendinguser.lastname}}</td>
	                                <td>{{pendingpayment.amount}}</td>
	                                <td>TODO</td>
	                            </tr>
	                            </tbody>
	                        {% endfor %}
	                    {% endif %}
	                {% endfor %}
	            {% else %}
	                <strong>There are no outstanding payments.</strong>
	            {% endif %}
	    	</table>
			</div>
	<button class="btn btn-default" type="button" onclick="printContent('printPayments')">Print</button>
	</div>
</div> <!--panel members list-->
{% endblock %}

















